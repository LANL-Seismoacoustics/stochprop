<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quickstart &mdash; stochprop 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Stochastic Propagation Analysis" href="analysis.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            stochprop
              <img src="_static/lanl_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="userguide.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="authorship.html">Authorship &amp; References</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#seasonal-trends">Seasonal Trends</a></li>
<li class="toctree-l2"><a class="reference internal" href="#atmosphere-statistics">Atmosphere Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#propagation-statistics">Propagation Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#perturbing-atmospheric-structure">Perturbing Atmospheric Structure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Stochastic Propagation Analysis</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">stochprop</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Quickstart</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/quickstart.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="quickstart">
<span id="id1"></span><h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this heading"></a></h1>
<p>Stochastic propagation analysis for infrasound propagation statistics using the <em>stochprop</em> library can be separated into a sequence of steps: 1) investigate temporal trends in the atmospheric structure at a given location to identify seasonality and separate historical atmospheric specifications into groups for summer, winter, and the spring/fall transition, 2) apply some statistical means to re-sample the atmospheric structure during each season to produce an ensemble of atmospheric samples that is a reasonable size, 3) run the re-sampled atmosphere ensemble through some propagation modeling methodology and parameterize the computed propagation predictions into a model that can be utilized in localization and characterization analyses.  Beyond these stages, the atmospheric statistics constructed for re-sampling can be used to perturb a reference atmospheric specification for an event-of-interest; though, this last application is an ongoing area of R&amp;D.</p>
<section id="seasonal-trends">
<h2>Seasonal Trends<a class="headerlink" href="#seasonal-trends" title="Permalink to this heading"></a></h2>
<p>For mid-latitude regions of the earth, the middle atmosphere winds associated with the circumpolar vortex have persistent orientation (eastward during the winter and westward during the summer in the northern hemisphere) and can be used to identify seasonal trends for a given location.  The temperature maximum at the stratopause is typically cooler than the near-ground temperature so that the middle atmosphere waveguide is dependent on these wind structures and therefore highly directional.  Refraction of acoustic waves back to the ground surface occurs when the sum of the sound speed and along-direction wind at some altitude aloft is greater than the sound speed near the ground surface.  Therefore, one can compute the ratio of the sound speed at various altitudes relative to that at the ground surface to identify when an infrasonic waveguide is present.</p>
<p>The sum of the sound speed and along-direction winds is termed the “effective sound speed” (ESS) and <em>stochprop</em> includes a visualization method that analyzes the ratio of the ESS throughout the atmosphere with that near the ground surface for eastward and westward propagation:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Usage: stochprop plot ess-ratio [OPTIONS]</span>

<span class="go">  stochprop plot ess-ratio</span>
<span class="go">  -----------------------</span>

<span class="go">Example Usage:</span>
<span class="go">    stochprop plot ess-ratio --atmo-dir profs/ --results-path example</span>

<span class="go">Options:</span>
<span class="go">  --atmo-dir TEXT        Directory of atmospheric specifications (required)</span>
<span class="go">  --results-path TEXT    Output path and prefix</span>
<span class="go">  --atmo-pattern TEXT    Specification file pattern (default: &#39;*.dat&#39;)</span>
<span class="go">  --atmo-format TEXT     Specification format (default: &#39;zTuvdp&#39;)</span>
<span class="go">  --year-selection TEXT  Limit analysis to specific year(s) (default: None)</span>
<span class="go">  --include-NS BOOLEAN   Option to include north/south analysis</span>
<span class="go">  --show-title BOOLEAN   Option to display title text</span>
<span class="go">  --xkcd-mode BOOLEAN    Use XKCD plotting style</span>
<span class="go">  -h, --help             Show this message and exit.</span>
</pre></div>
</div>
</div></blockquote>
<p>A year of Ground-to-Space (G2S) atmospheric data is provided with <em>stochprop</em> in the ‘examples/profs/’ directory.  The <code class="code docutils literal notranslate"><span class="pre">ess-ratio</span></code> method can ingest these atmospheres to show the seasonal trends in the stratospheric waveguide:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop plot ess-ratio --atmo-dir profs/ --results-path example
</pre></div>
</div>
</div></blockquote>
<p>Running this methos will output some information to screen and also produce a <em>matplotlib</em> figure window showing the below ESS ratio analysis.  In the figure, the upper panel shows the maximum ESS ratio between 40 and 60 km altitude to the east (blue) and west (red).  The colormap in the lower panel shows the ESS ratio throughout the ratio for values greater than unity again to the eats and west in blue and red, respectively.  The colormap covers from unity up to a value of 1.1 so easily compare waveguide characteristic at distinct locations.</p>
<blockquote>
<div><figure class="align-center">
<a class="reference internal image-reference" href="_images/example.ess-ratio.png"><img alt="_images/example.ess-ratio.png" src="_images/example.ess-ratio.png" style="width: 800px;" /></a>
</figure>
</div></blockquote>
<p>The information output to screen when running <code class="code docutils literal notranslate"><span class="pre">ess-ratio</span></code> methods summarizes the formation and dissipation of the eastward and westward waveguides.  By default, the method only analyzes the eastward and westward components of the ESS.  The <code class="code docutils literal notranslate"><span class="pre">--include-NS</span></code> option can be used to also compute the northward and southward components; though, in most cases these components don’t provide much additional information on seasonal trends.</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#####################################
##                                 ##
##            stochprop            ##
##      Visualization Methods      ##
##   ESS Ratio Seasonal Analysis   ##
##                                 ##
#####################################

Run summary:
Source directory: profs/
Specification pattern: *.dat
Specification format: zTuvdp

    Loading profiles from profs/ with pattern: *.dat
        Extracted ground elevation: 0.165

Computing effective sound speed ratio for each day-of-year...

Eastward waveguide changes...
    Waveguide dissipates: April 10  (yday: 101, week: 14)
    Waveguide forms: April 11  (yday: 102, week: 15)
    Waveguide dissipates: April 12  (yday: 103, week: 15)
    Waveguide forms: September 23  (yday: 267, week: 38)

Westward waveguide changes...
    Waveguide forms: May 02  (yday: 123, week: 18)
    Waveguide dissipates: May 04  (yday: 125, week: 18)
    Waveguide forms: May 11  (yday: 132, week: 19)
    Waveguide dissipates: August 29  (yday: 242, week: 35)
</pre></div>
</div>
</div></blockquote>
<p>There is some excess variability for this data set that causes multiple instances of the middle atmosphere waveguide forming and dissipating, but the general result from this analysis is that the eastward waveguide forms in late September and lasts until early April (weeks 38 – 15) and the westward waveguide forms in early May and lasts until the end of August (weeks 19 - 35).  These seasonal trends will be utilized in constructing atmospheric statistics.</p>
</section>
<section id="atmosphere-statistics">
<h2>Atmosphere Statistics<a class="headerlink" href="#atmosphere-statistics" title="Permalink to this heading"></a></h2>
<p><strong>Build EOFs</strong></p>
<p>Empirical orthogonal functions (EOFs) are a numerical means of identifying basis functions (similar to eigenvectors) for a vector space.  In the case of atmospheric statistics, a vector can be defined describing the sound speed and wind fields and statistics of the atmospheric structure analyzed using EOF as discussed in the overview of <a class="reference internal" href="analysis.html#analysis"><span class="std std-ref">Stochastic Propagation Analysis</span></a>.  The <em>stochprop</em> statistics methods include various functions for quantifying statistics related to the atmospheric structure.  In general, the first step in such analysis is to construct a set of EOFs for a given set up atmospheric specifications.  This task is completed using <code class="code docutils literal notranslate"><span class="pre">stochprop</span> <span class="pre">stats</span> <span class="pre">build-eofs</span></code>:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Usage: stochprop stats build-eofs [OPTIONS]

  stochprop stats build-eofs
  --------------------------

Example Usage:
    stochprop stats build-eofs --atmo-dir profs/ --eofs-path eofs/example
    stochprop stats build-eofs --atmo-dir profs/ --eofs-path eofs/example_low_alt --max-alt 80.0 --eof-cnt 50
    stochprop stats build-eofs --atmo-dir profs/ --eofs-path eofs/example_winter --month-selection &#39;10:12, 01:03&#39;

Options:
  --atmo-dir TEXT          Directory of atmospheric specifications (required)
  --eofs-path TEXT         EOF output path and prefix (required)
  --atmo-pattern TEXT      Specification file pattern (default: &#39;*.dat&#39;)
  --atmo-format TEXT       Specification format (default: &#39;zTuvdp&#39;)
  --month-selection TEXT   Limit analysis to specific month(s) (default: None)
  --week-selection TEXT    Limit analysis to specific week(s) (default: None)
  --year-selection TEXT    Limit analysis to specific year(s) (default: None)
  --save-datetime BOOLEAN  Save date time info (default: False)
  --max-alt TEXT           Maximum altitude for trimming data (default: None)
  --eof-cnt INTEGER        Number of EOFs to store (default: 100)
  -h, --help               Show this message and exit.
</pre></div>
</div>
</div></blockquote>
<p>From the above seasonal trends analysis using <code class="code docutils literal notranslate"><span class="pre">stochprop</span> <span class="pre">plot</span> <span class="pre">ess-ratio</span></code>, it was determined that the winter season corresponds to weeks 38 - 52 and 1 - 15 of the calendar year.  This information can be included in analysis via the <code class="code docutils literal notranslate"><span class="pre">--week-selection</span></code> parameter:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop stats build-eofs --atmo-dir profs/ --eofs-path eofs/example_winter --week-selection &#39;38:52,1:15&#39;
</pre></div>
</div>
</div></blockquote>
<p>Note that the notation <em>38:52,1:15</em> is used to denote all weeks between 38 and 52 plus those between 1 and 15.  Running this function reads the atmospheric data from the <em>profs/</em> directory, s check the file names and/or header info for datetime info to determine whether individual files are within the specified range of weeks, and uses a singular value decomposition (SVD) to  construct the EOFs.  For larger data sets, ingesting large numbers of atmospheric files for analysis can be time consuming; though, for this sample data set it’s relatively quick.</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>##################################
##                              ##
##           stochprop          ##
##      Statistics Methods      ##
##   Build SVD to Define EOFs   ##
##                              ##
##################################


Run summary:
  Source directory: profs/
  Specification pattern: *.dat
  Specification format: zTuvdp
  Limited weeks: [&#39;38&#39;, &#39;39&#39;, &#39;40&#39;, &#39;41&#39;, &#39;42&#39;, &#39;43&#39;, &#39;44&#39;, &#39;45&#39;, &#39;46&#39;, &#39;47&#39;, &#39;48&#39;, &#39;49&#39;, &#39;50&#39;, &#39;51&#39;, &#39;52&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;10&#39;, &#39;11&#39;, &#39;12&#39;, &#39;13&#39;, &#39;14&#39;, &#39;15&#39;]
  EOF count: 100
  Output path: eofs/example_winter

    Loading profiles from profs/ with pattern: *.dat
        Weeks filter: [&#39;38&#39;, &#39;39&#39;, &#39;40&#39;, &#39;41&#39;, &#39;42&#39;, &#39;43&#39;, &#39;44&#39;, &#39;45&#39;, &#39;46&#39;, &#39;47&#39;, &#39;48&#39;, &#39;49&#39;, &#39;50&#39;, &#39;51&#39;, &#39;52&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;10&#39;, &#39;11&#39;, &#39;12&#39;, &#39;13&#39;, &#39;14&#39;, &#39;15&#39;]
    Building EOFs using SVD...
</pre></div>
</div>
</div></blockquote>
<p>This analysis produces a number of output files in the eofs/ directory named according to the <code class="code docutils literal notranslate"><span class="pre">--eofs-path</span></code> option.  The contents of these files is summarized in the below table.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>EOF Output File</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>eofs/example_winter-mean_atmo.dat</p></td>
<td><p>Mean values of the sound speed, winds, and density</p></td>
</tr>
<tr class="row-odd"><td><p>eofs/example_winter-singular_values.dat</p></td>
<td><p>Singular values corresponding to each EOF index</p></td>
</tr>
<tr class="row-even"><td><p>eofs/example_winter-snd_spd.eofs</p></td>
<td><p>EOFs for the sound speed, <span class="math notranslate nohighlight">\(c = \sqrt{ \gamma \frac{p}{\rho}}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>eofs/example_winter-merid_winds.eofs</p></td>
<td><p>EOFs for the meridional (north/south) winds</p></td>
</tr>
<tr class="row-even"><td><p>eofs/example_winter-zonal_winds.eofs</p></td>
<td><p>EOFs for the zonal (east/west) winds</p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><ul class="simple">
<li><p>NOTE: the current implementation of <em>stochprop</em> saves the mean atmospheric structure using only the sound speed, winds, and density.  Other output atmospheric data (samples, perturbations, etc.) are saved in the G2S ‘zTuvdp’ format with comlumns containing altitude, temperature, zonal wind, meridional wind, density, and pressure.  The format information needed for the NCPAprop package is included in the file heaeder; however, if the mean atmospheric file is used in infraGA/GeoAc be sure to specify the column format: ‘zcuvd’.  This might be changed in a future update.</p></li>
</ul>
</div></blockquote>
<p>Similar analysis can be completed for the summer and spring/fall transition periods when the middle atmosphere waveguide dissipates:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop stats build-eofs --atmo-dir profs/ --eofs-path eofs/example_summer --week-selection &#39;19:35&#39;

stochprop stats build-eofs --atmo-dir profs/ --eofs-path eofs/example_transition --week-selection &#39;16:18,36:37&#39;  --eof-cnt 35
</pre></div>
</div>
</div></blockquote>
<p>Note that in the spring/fall analysis, there aren’t enough atmospheric specifications in the 5 weeks defining the spring and fall transitions and the methods error out if more EOFs are requested than atmospheric specifications provided.  In more general analysis, sampling these weeks across multiple years provide sufficient atmospheric specification samples to produce a full 100 EOFs, but in this example the EOF count needs to be limited to 35.</p>
<p><strong>Visualize EOFs</strong></p>
<p>The EOF analysis results from the EOF construction can be visualized using the EOF function in <code class="code docutils literal notranslate"><span class="pre">stochprop</span> <span class="pre">plot</span></code>.  All that’s requires is to specify the EOFs path from build run:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop plot eofs --eofs-path eofs/example_winter
</pre></div>
</div>
</div></blockquote>
<p>A figure is generating containing the mean sound speed and wind structures (left-most panels) and the first few EOFs are visualized for comparison.  As noted in the discussion of <a class="reference internal" href="analysis.html#analysis"><span class="std std-ref">Stochastic Propagation Analysis</span></a>, the EOFs are computed using stacked sound speed and wind information so the <span class="math notranslate nohighlight">\(n^\text{th}\)</span> EOF defines perturbations to the sound speed and both wind components in combination.  In the figure, the zonal winds are denoted by the blue lines and meridional by red.</p>
<blockquote>
<div><figure class="align-center">
<a class="reference internal image-reference" href="_images/winter_eofs.png"><img alt="_images/winter_eofs.png" src="_images/winter_eofs.png" style="width: 600px;" /></a>
</figure>
</div></blockquote>
<p>In addition to visualizing the mean atmosphere and EOF structure, the visualization methods perform an analysis of the singular values to identify the number of EOF terms needed for accurately representing the atmospheric structure.  In the below summary, analysis has been performed to identify the number of singular values needed to describe some percentage of the atmospheric variability by considering the ratio of the <span class="math notranslate nohighlight">\(n^\text{th}\)</span> EOF’s singular value to that of the <span class="math notranslate nohighlight">\(n=0\)</span> EOF.  In order to include 99% of the atmospheric variability, EOFs with singular values satisfying <span class="math notranslate nohighlight">\(\frac{\sigma_n}{\sigma_0} \geq 0.01\)</span> must be included.  From the analysis below, this requires inclusion of the first 56 EOFs in analysis.</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#######################################
##                                   ##
##             stochprop             ##
##       Visualization Methods       ##
##        EOF Analysis Results       ##
##                                   ##
#######################################

Visualizing EOF results...

Singular Value Analysis
    90% variability rank: 12
    95% variability rank: 21
    99% variability rank: 56
    99.5% variability rank: 72
    99.9% variability rank: 106
</pre></div>
</div>
</div></blockquote>
<p>The EOF visualiation methods defaults to show the first 5 EOFs but can be adjusted to show additional contributions using the <code class="code docutils literal notranslate"><span class="pre">--eof-cnt</span></code> parameter.  Below is an example of the summer EOF structure showing the first 10 EOFs.</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop plot eofs --eofs-path eofs/example_summer --eof-cnt 10
</pre></div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/summer_eofs.png"><img alt="_images/summer_eofs.png" src="_images/summer_eofs.png" style="width: 800px;" /></a>
</figure>
</div></blockquote>
<p><strong>Analyze Fitting Accuracy</strong></p>
<p>Stuff…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop plot eof-fit --atmo-file profs/g2stxt_2011010118_39.1026_-84.5123.dat --eofs-path eofs/example_winter --eof-cnt 10
</pre></div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/eof-fit_10.png"><img alt="_images/eof-fit_10.png" src="_images/eof-fit_10.png" style="width: 500px;" /></a>
</figure>
</div></blockquote>
<p>More stuff…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop plot eof-fit --atmo-file profs/g2stxt_2011010118_39.1026_-84.5123.dat --eofs-path eofs/example_winter --eof-cnt 25
</pre></div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/eof-fit_25.png"><img alt="_images/eof-fit_25.png" src="_images/eof-fit_25.png" style="width: 500px;" /></a>
</figure>
</div></blockquote>
<p><strong>Sampling the Atmospheric Structure</strong></p>
<p>Stuff…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop stats eof-coeffs --atmo-dir profs/ --eofs-path eofs/example_winter --coeff-path coeffs/example_winter --week-selection &#39;38:52,1:15&#39;
</pre></div>
</div>
</div></blockquote>
<p>Use the coefficients to sample…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop stats sample-eofs --eofs-path eofs/example_winter --coeff-path coeffs/example_winter --sample-path samples/winter/example_winter --sample-cnt 50
</pre></div>
</div>
</div></blockquote>
<p>Visualize the samples (need to write function)…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop plot atmo-ensemble --atmo-dir samples/winter/ --atmo-pattern &#39;*.met&#39;
</pre></div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/winter_eof-samples.png"><img alt="_images/winter_eof-samples.png" src="_images/winter_eof-samples.png" style="width: 500px;" /></a>
</figure>
</div></blockquote>
<p><strong>Check Seasonal Trends with EOFs (optional)</strong></p>
<p>Stuff…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop stats build-eofs --atmo-dir profs/ --eofs-path eofs/example_all  --max-alt 80.0
</pre></div>
</div>
</div></blockquote>
<p>Stuff…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop stats eof-coeffs --atmo-dir profs/ --eofs-path eofs/example_all --run-all-weeks True --coeff-path coeffs/example_all --eof-cnt 50
</pre></div>
</div>
</div></blockquote>
<p>Stuff…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop stats coeff-overlap --eofs-path eofs/example_all --coeff-path coeffs/example_all --eof-cnt 50
</pre></div>
</div>
</div></blockquote>
<p>Visualize…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop plot coeff-overlap --overlap coeffs/example_all-overlap.npy
</pre></div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/example_all-seasonality.png"><img alt="_images/example_all-seasonality.png" src="_images/example_all-seasonality.png" style="width: 300px;" /></a>
</figure>
</div></blockquote>
<p>This identifies seasonal trends such that summer extends from week 20 – 33 and winter covering weeks 38 – 52 and 1 – 14.  For comparison, the <code class="code docutils literal notranslate"><span class="pre">stochprop</span> <span class="pre">plot</span> <span class="pre">ess-ratio</span></code> analysis above identified similar seasonal trends though with a slightly longer summer (weeks 19 - 35).  While this additional analysis isn’t overtly needed for this mid-latitude location, analysis of seasonal trends near the equatorial and polar regions is often elucidated by this EOF coefficient overlap analysis.</p>
</section>
<section id="propagation-statistics">
<h2>Propagation Statistics<a class="headerlink" href="#propagation-statistics" title="Permalink to this heading"></a></h2>
<p><strong>Constructing Propagation Statistics</strong></p>
<p>Stuff…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop prop build-pgm --atmos-dir samples/winter/ --output-path prop/winter/winter --src-loc &#39;30.0, -120.0, 0.0&#39; --verbose True --cpu-cnt 14 --clean-up False
</pre></div>
</div>
</div></blockquote>
<p>Output…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#####################################
##                                 ##
##            stochprop            ##
##       Propagation Methods       ##
##       Path Geometry Model       ##
##                                 ##
######################################


Data IO summary:
  Atmospheric specifications directory: samples/winter/
  Specification pattern: *.met
  Model output path: prop/winter/winter

infraGA/GeoAc parameters:
  Source location: 30.0, -120.0, 0.0
  Inclination angles (min, max, step): [2.0, 50.0, 2.0]
  Azimuth angles (min, max, step): [0.0, 360.0, 6.0]
  Bounces: 25
  Ground elevation: 0.0
  Range max: 1000.0
  Frequency: 0.5
  Clean up: True
  CPU count: 8

Path Geometry Model (PGM) parameters:
  Range window: 50.0
  Range step: 10.0
  Azimuth bin count: 16
  Azimuth bin width: 30.0

Generating ray paths for example_winter-00.met

    ###########################################
    ####     Running infraga-accel-sph     ####
    ####            Propagation            ####
    ###########################################

Interpolating atmosphere data in &#39;samples/winter//example_winter-00.met&#39; using format &#39;zTuvdp&#39;...
    Propagation region limits:
        latitude = -90, 90
        longitude = -180, 180
        altitutde = 0, 150

    User selected range maximum = 1000

Parameter summary:
    inclination: 2, 50, 2
    azimuth: 0, 360, 6
    bounces: 25
    source location (lat, lon, alt): 30, -120, 0
    ground elevation: 0
    frequency: 0.5
    S&amp;B atten coeff: 1
    write_atmo: false
    write_rays: false
    write_topo: false
    calc_amp: false
    threads: 8

Calculating ray paths: (2, 28) degrees inclination range, 0 degrees azimuth.
Calculating ray paths: (30, 50) degrees inclination range, 0 degrees azimuth.
Calculating ray paths: (2, 28) degrees inclination range, 6 degrees azimuth.
Calculating ray paths: (30, 50) degrees inclination range, 6 degrees azimuth.
Calculating ray paths: (2, 28) degrees inclination range, 12 degrees azimuth.
Calculating ray paths: (30, 50) degrees inclination range, 12 degrees azimuth.
...

Generating ray paths for example_winter-01.met
...
</pre></div>
</div>
</div></blockquote>
<p>Visualize…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop plot prop-model --model-file prop/winter/winter.pgm
</pre></div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/US_RM-az_dev.png"><img alt="_images/US_RM-az_dev.png" src="_images/US_RM-az_dev.png" style="width: 500px;" /></a>
</figure>
</div></blockquote>
<p>The second plot…</p>
<blockquote>
<div><figure class="align-center">
<a class="reference internal image-reference" href="_images/US_RM-rng_cel.png"><img alt="_images/US_RM-rng_cel.png" src="_images/US_RM-rng_cel.png" style="width: 500px;" /></a>
</figure>
</div></blockquote>
<p>Build a transmission loss model…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop prop build-tlm --atmos-dir samples/winter/ --output-path prop/winter/winter --freq 0.2  --cpu-cnt 8
</pre></div>
</div>
</div></blockquote>
<p>Visualize…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop plot prop-model --model-file prop/winter/winter_0.200Hz.tlm
</pre></div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/winter_0.359_tloss.png"><img alt="_images/winter_0.359_tloss.png" src="_images/winter_0.359_tloss.png" style="width: 400px;" /></a>
</figure>
</div></blockquote>
<p><strong>Utilizing Propagation Statistics</strong></p>
<p>Plotting detection statistics for a single infrasound array…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop plot detection-stats --tlm-files &#39;prop/US_RM/US_RM-winter_*Hz.tlm&#39; --yield-vals &#39;1, 10, 100&#39; --array-dim 5
</pre></div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/det-stats.png"><img alt="_images/det-stats.png" src="_images/det-stats.png" style="width: 600px;" /></a>
</figure>
</div></blockquote>
<p><em>Note: this visualization method has some weird behavior when using a single TLM and/or a single yield value.  Work is ongoing to debug it.</em></p>
<p>Also able to apply models to a network of infrasound arrays to quantify detection capabilities…network info…</p>
<p>Write a file that contains latitude and longitude of each network station as well as the number of sensors for each one and a transmission loss model for each…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>39.4731, -110.740, 4, prop/US_RM/US_RM-winter_0.500Hz.tlm
40.6530, -112.119, 4, prop/US_RM/US_RM-winter_0.500Hz.tlm
38.5337, -113.855, 4, prop/US_RM/US_RM-winter_0.500Hz.tlm
39.7196, -113.390, 4, prop/US_RM/US_RM-winter_0.500Hz.tlm
41.6071, -111.564, 4, prop/US_RM/US_RM-winter_0.500Hz.tlm
37.0109, -113.244, 4, prop/US_RM/US_RM-winter_0.500Hz.tlm
40.0795, -111.831, 4, prop/US_RM/US_RM-winter_0.500Hz.tlm
</pre></div>
</div>
</div></blockquote>
<p>Run the analysis and visualize…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop plot network-performance --network-info network_test.dat --lat-min 36 --lat-max 42 --lon-min -117.5 --lon-max -107.5
</pre></div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/network-performance.png"><img alt="_images/network-performance.png" src="_images/network-performance.png" style="width: 600px;" /></a>
</figure>
</div></blockquote>
</section>
<section id="perturbing-atmospheric-structure">
<h2>Perturbing Atmospheric Structure<a class="headerlink" href="#perturbing-atmospheric-structure" title="Permalink to this heading"></a></h2>
<p>Stuff…</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stochprop stats perturb --method eof --atmo-file profs/g2stxt_2011010118_39.1026_-84.5123.dat --eofs-path eofs/example_winter --sample-path samples/perturb/test
</pre></div>
</div>
</div></blockquote>
<p>Visualization…</p>
<blockquote>
<div><figure class="align-center">
<a class="reference internal image-reference" href="_images/perturb1.png"><img alt="_images/perturb1.png" src="_images/perturb1.png" style="width: 400px;" /></a>
</figure>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="analysis.html" class="btn btn-neutral float-right" title="Stochastic Propagation Analysis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Philip Blom.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>